# Application
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# Database (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=nexsentia
DB_PASSWORD=nexsentia_password
DB_DATABASE=nexsentia_db
DB_SYNCHRONIZE=false
DB_LOGGING=true

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRATION=30d

# OAuth (Google)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

# CORS
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true

# Security
BCRYPT_ROUNDS=10
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Audit
AUDIT_RETENTION_DAYS=365

# Multi-tenant
TENANT_HEADER=x-tenant-id

# AWS S3
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=nexsentia-uploads
AWS_S3_PRESIGNED_URL_EXPIRY=3600

# Email (Resend)
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=noreply@nexsentia.com
EMAIL_FROM_NAME=Nexsentia
APP_URL=http://localhost:3001

# Jira OAuth
JIRA_OAUTH_CLIENT_ID=your-jira-oauth-client-id
JIRA_OAUTH_CLIENT_SECRET=your-jira-oauth-client-secret
JIRA_OAUTH_CALLBACK_URL=http://localhost:3000/api/v1/jira/oauth/callback

# Jira Sync Settings
# Default sync interval for Jira connections (in minutes)
JIRA_SYNC_INTERVAL_MINUTES=15
# Cron schedule for running automatic syncs (default: every 10 minutes)
# Format: minute hour day month weekday
# Examples: "*/10 * * * *" (every 10 min), "0 */2 * * *" (every 2 hours)
JIRA_SYNC_CRON_SCHEDULE=*/10 * * * *

# Slack OAuth
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_REDIRECT_URI=http://localhost:3000/api/v1/slack/oauth/callback

# Slack Sync Settings
# Default sync interval for Slack connections (in minutes)
SLACK_SYNC_INTERVAL_MINUTES=30
# Cron schedule for running automatic syncs (default: every 30 minutes)
# Format: second minute hour day month weekday
# Examples: "0 */30 * * * *" (every 30 min), "0 0 */2 * * *" (every 2 hours)
SLACK_SYNC_CRON_SCHEDULE=0 */30 * * * *

# Microsoft Teams OAuth
TEAMS_CLIENT_ID=your-teams-client-id
TEAMS_CLIENT_SECRET=your-teams-client-secret
TEAMS_REDIRECT_URI=http://localhost:3000/api/v1/teams/oauth/callback
TEAMS_TENANT_ID=common

# Teams Sync Settings
# Default sync interval for Teams connections (in minutes)
TEAMS_SYNC_INTERVAL_MINUTES=30
# Cron schedule for running automatic syncs (default: every 30 minutes)
# Format: second minute hour day month weekday
# Examples: "0 */30 * * * *" (every 30 min), "0 0 */2 * * *" (every 2 hours)
TEAMS_SYNC_CRON_SCHEDULE=0 */30 * * * *

# ServiceNow OAuth
SERVICENOW_CLIENT_ID=your-servicenow-client-id
SERVICENOW_CLIENT_SECRET=your-servicenow-client-secret
SERVICENOW_REDIRECT_URI=http://localhost:3000/api/v1/servicenow/oauth/callback

# ServiceNow Sync Settings
# Default sync interval for ServiceNow connections (in minutes)
SERVICENOW_SYNC_INTERVAL_MINUTES=30
# Cron schedule for running automatic syncs (default: every 30 minutes)
# Format: second minute hour day month weekday
# Examples: "0 */30 * * * *" (every 30 min), "0 0 */2 * * *" (every 2 hours)
SERVICENOW_SYNC_CRON_SCHEDULE=0 */30 * * * *

# Privacy & PII
# Encryption key for PII anonymization (must be 64 hex characters = 32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Data Anonymization Cron
# Enable/disable automatic daily anonymization of ingestion data
# When enabled, runs daily to anonymize PII in data from Jira, ServiceNow, Slack, and Teams integrations
# NOTE: User accounts are NOT anonymized, only integration data
# Manual trigger is always available via POST /api/v1/privacy/dashboard/anonymize
# Default: false (disabled for safety - enable explicitly in production if needed)
ENABLE_ANONYMIZATION_CRON=false
# Cron schedule for anonymization (default: every 10 minutes)
# Format: second minute hour day month weekday
# Examples: "0 */10 * * * *" (every 10 min), "0 0 2 * * *" (2 AM daily), "0 0 */6 * * *" (every 6 hours)
ANONYMIZATION_CRON_SCHEDULE=0 */10 * * * *
# Timezone for cron jobs (default: America/New_York)
# Adjust to your preferred timezone (e.g., UTC, America/Los_Angeles, Europe/London)
ANONYMIZATION_CRON_TIMEZONE=America/New_York

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview

# Redis Cache (Optional - falls back to in-memory if not configured)
# Using Redis improves performance and cache persists across deployments
# AWS ElastiCache Redis endpoint example: your-cluster.xxxxx.cache.amazonaws.com
REDIS_HOST=
REDIS_PORT=6379
# Leave empty if no password (ElastiCache in VPC doesn't require it)
REDIS_PASSWORD=

# Organizational Pulse Cache Settings
# Enable/disable interval-based cache refresh (default: false)
# The startup warming + on-demand caching is usually sufficient
# Only enable if you need proactive cache refresh between requests
ORG_PULSE_CACHE_INTERVAL_ENABLED=false
# Interval in milliseconds for refreshing the organizational pulse cache (if enabled)
# Default: 1500000 (25 minutes) - should be less than cache TTL (30 min)
# Examples: 300000 (5 min), 900000 (15 min), 1500000 (25 min), 3600000 (1 hour)
ORG_PULSE_CACHE_INTERVAL_MS=1500000
